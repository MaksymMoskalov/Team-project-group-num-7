{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/helpers/bundle-url.js","node_modules/@parcel/runtime-js/lib/runtime-533c07ce3d4deaa4.js","src/js/shopping-list.js","node_modules/@parcel/runtime-js/lib/runtime-2c69872c83522b86.js","node_modules/@parcel/runtime-js/lib/runtime-704fe5b51612264b.js","node_modules/@parcel/runtime-js/lib/runtime-711199d9bc34407a.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","\"use strict\";\n\nvar bundleURL = {};\n\nfunction getBundleURLCached(id) {\n  var value = bundleURL[id];\n\n  if (!value) {\n    value = getBundleURL();\n    bundleURL[id] = value;\n  }\n\n  return value;\n}\n\nfunction getBundleURL() {\n  try {\n    throw new Error();\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|(chrome|moz)-extension):\\/\\/[^)\\n]+/g);\n\n    if (matches) {\n      // The first two stack frames will be this function and getBundleURLCached.\n      // Use the 3rd one, which will be a runtime in the original bundle.\n      return getBaseURL(matches[2]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|(chrome|moz)-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n} // TODO: Replace uses with `new URL(url).origin` when ie11 is no longer supported.\n\n\nfunction getOrigin(url) {\n  var matches = ('' + url).match(/(https?|file|ftp|(chrome|moz)-extension):\\/\\/[^/]+/);\n\n  if (!matches) {\n    throw new Error('Origin not found');\n  }\n\n  return matches[0];\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\nexports.getOrigin = getOrigin;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"heHZr\\\":\\\"shopping-list.818812ad.js\\\",\\\"10xaD\\\":\\\"amazon.c9513f1c.png\\\",\\\"1uZue\\\":\\\"applebook.99f5b86b.png\\\",\\\"7EFjI\\\":\\\"bookshop.579c7059.png\\\",\\\"5XUJe\\\":\\\"shopping-list.6aa0274f.js\\\"}\"));","import axios from 'axios';\nimport amazon from '../images/link-png/amazon.png';\nimport applebook from '../images/link-png/applebook.png';\nimport bookshop from '../images/link-png/bookshop.png';\n\nconst empty = document.querySelector('.empty');\nempty.classList.add('not-is-hidden');\nconst ulList = document.querySelector('.book-list');\nconst STORAGE_KEY = 'book-to-buy';\n\nasync function addToShopList() { \n    const getArr = await JSON.parse(localStorage.getItem(STORAGE_KEY));\n    if (getArr.length > 0) {\n        empty.classList.replace('not-is-hidden', 'is-hidden');\n        const markup = createBookListMarkUp(getArr);\n        ulList.innerHTML = markup;\n    }\n    else {\n        empty.classList.replace('is-hidden', 'not-is-hidden');\n    }\n}\naddToShopList();\nconst nocontet = 'no content';\nfunction createBookListMarkUp(arr) { \n    return arr.map(({ _id, list_name, book_image, author, title, description, buy_links }) => {\n        return `<li class=\"book-item\" id=\"${_id}\">\n              <div class=\"book-data\">\n                <div class=\"book-img\"\">\n                <img src=\"${book_image}\" alt=\"book1\"></div>\n                <div class=\"book-info\">\n                  <h2 class=\"book-name\">${title}</h2>\n                  <p class=\"book-category\">${list_name}</p>\n                  <p class=\"book-desc\">\n                    ${description || nocontet}\n                  </p>\n                  <div class=\"author-shoplinks\">\n                    <p class=\"book-author\">${author}</p>\n                    <ul class=\"shop-links\">\n                      <li class=\"item-book\">\n                        <a href=\"${buy_links[0].url}\" target=\"_blank\" class=\"\">\n                          <img\n                            src=\"${amazon}\"\n                            alt=\"${buy_links[0].name}\"\n                          />\n                        </a>\n                      </li>\n                      <li class=\"item-book\">\n                        <a href=\"${buy_links[1].url}\" target=\"_blank\" class=\"\">\n                          <img\n                            src=\"${applebook}\"\n                            alt=\"${buy_links[1].name}\"\n                            width=\"16px\"\n                            height=\"16px\"\n                          />\n                        </a>\n                      </li>\n                      <li class=\"item-book\">\n                        <a href=\"${buy_links[4].url}\" target=\"_blank\" class=\"\">\n                          <img\n                            src=\"${bookshop}\"\n                            alt=\"${buy_links[4].name}\"\n                            width=\"16px\"\n                            height=\"16px\"\n                          />\n                        </a>\n                      </li>\n                    </ul>\n                  </div>\n                </div>\n              </div>\n              <button type=\"button\" class=\"btn-delete\" data-id=\"${_id}\">\n                <svg class=\"icon-delete\" width=16 height=16>\n                    <use href=\"./images/header-imgs/header-sprite.svg#icon-trash\"></use>\n                </svg>\n              </button>\n            </li>`;\n    })\n    .join('');\n}\nulList.addEventListener('click', deleteBtn);\nconst btnDelete = document.querySelector('.btn-delete');\n\n\n// Delete from LocalStorage and fron Shopping List\nfunction deleteBtn(event) { \n    const data = getLocalData();\n    console.log(data);\n    const idx = data.findIndex(({ _id }) => _id === event.target.dataset.id);\n    data.splice(idx, 1);\n    savedData(data);\n    if (data.length === 0) {\n        empty.classList.replace('is-hidden', 'not-is-hidden');\n        const markup = createBookListMarkUp(data);\n        ulList.innerHTML = markup;\n    }\n    else {\n        empty.classList.replace('not-is-hidden', 'is-hidden');\n        const markup = createBookListMarkUp(data);\n        ulList.innerHTML = markup;\n    }\n}\n\nfunction getLocalData() {\n  try {\n    const data = localStorage.getItem(STORAGE_KEY);\n    return data ? JSON.parse(data) : [];\n  } catch (err) {\n    console.log(err.message);\n  }\n}\nfunction savedData(params) {\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(params));\n \n\n}","module.exports = require('./helpers/bundle-url').getBundleURL('heHZr') + require('./helpers/bundle-manifest').resolve(\"10xaD\");","module.exports = require('./helpers/bundle-url').getBundleURL('heHZr') + require('./helpers/bundle-manifest').resolve(\"1uZue\");","module.exports = require('./helpers/bundle-url').getBundleURL('heHZr') + require('./helpers/bundle-manifest').resolve(\"7EFjI\");"],"names":["$0380ce8f1f064ccc$export$6503ec6e8aabbaf","$0380ce8f1f064ccc$export$f7ad0328861e2f03","$0380ce8f1f064ccc$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","$7dd1ddf6834435ca$export$bdfd709ae4826697","$7dd1ddf6834435ca$var$bundleURL","$7dd1ddf6834435ca$var$getBaseURL","url","replace","value","err","matches","stack","match","$7dd1ddf6834435ca$var$getBundleURL","parcelRequire","register","JSON","parse","$bpxeT","$7a837179df48a7ea$exports","getBundleURL","resolve","$324a449e2b239cf0$exports","$a993213c8a48aed3$exports","$399cd7aec2522034$var$empty","document","querySelector","classList","add","$399cd7aec2522034$var$ulList","$399cd7aec2522034$var$STORAGE_KEY","$399cd7aec2522034$var$_addToShopList","$parcel$interopDefault","$2TvXO","mark","_callee","getArr","markup","localStorage","getItem","_ctx","sent","$399cd7aec2522034$var$createBookListMarkUp","innerHTML","apply","this","arguments","$399cd7aec2522034$var$addToShopList","arr","map","param","_id","list_name","book_image","author","title","description","buy_links","concat","name","join","addEventListener","event","data","console","log","message","$399cd7aec2522034$var$getLocalData","idx","findIndex","target","dataset","splice","params","setItem","stringify","$399cd7aec2522034$var$savedData","markup1"],"version":3,"file":"shopping-list.818812ad.js.map"}